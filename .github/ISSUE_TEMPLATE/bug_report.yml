name: Bug Report
description: Report a problem with the CHMI Alerts integration
labels: [bug]
body:
- type: markdown
  attributes:
    value: |
      Thanks for taking the time to report a bug! Please fill out the information below to help us understand and reproduce the issue.

- type: input
  id: ha-version
  attributes:
    label: Home Assistant Version
    description: What version of Home Assistant are you running?
    placeholder: e.g., 2024.1.0
  validations:
    required: false

- type: input
  id: integration-version
  attributes:
    label: CHMI Alerts Integration Version
    description: What version of the CHMI Alerts integration are you using?
    placeholder: e.g., 0.1.0
  validations:
    required: false

- type: textarea
  id: cap-xml
  attributes:
    label: CAP XML Sample
    description: |
      If possible, provide the CAP XML content that triggered the issue.
      This is crucial for reproducing the problem. You can access the CHMI XML feed at:
      https://vystrahy-cr.chmi.cz/data/XOCZ50_OKPR.xml
      If the XML is very large, please include at least one complete `<alert>` element that causes the issue.
    placeholder: |
      <?xml version="1.0" encoding="UTF-8"?>
      <alert xmlns="urn:oasis:names:tc:emergency:cap:1.2">
        <!-- XML content here -->
      </alert>
    render: xml
  validations:
    required: false

- type: textarea
  id: description
  attributes:
    label: Description
    description: Describe the bug you're experiencing. Include what happened and what you expected to happen.
    placeholder: |
      What happened?

      What did you expect to happen instead?
  validations:
    required: true

- type: textarea
  id: logs
  attributes:
    label: Relevant Log Output
    description: |
      Please provide any relevant log output from Home Assistant.
      You can find logs in Settings → System → Logs.
      Enable debug logging for this integration by adding to your configuration.yaml:
      ```yaml
      logger:
        default: info
        logs:
          custom_components.chmi_alerts: debug
      ```
    render: text
  validations:
    required: false

- type: textarea
  id: additional-context
  attributes:
    label: Additional Context
    description: |
      Add any other context about the problem here.
      - Screenshots
      - Related issues
      - Steps to reproduce
      - Frequency of the issue
    placeholder: Any additional information that might help...
  validations:
    required: false

- type: checkboxes
  id: terms
  attributes:
    label: Checklist
    description: Please confirm the following
    options:
    - label: I have searched existing issues to ensure this is not a duplicate
      required: true
